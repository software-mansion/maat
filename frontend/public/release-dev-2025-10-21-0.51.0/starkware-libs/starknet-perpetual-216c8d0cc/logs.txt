=== starkware-libs/starknet-perpetual-216c8d0cc ===

>>> git clone --depth 1 --no-tags https://github.com/starkware-libs/starknet-perpetual .
[err] Cloning into '.'...

>>> maat-check-versions
[out] Name             Version         Source                        Installed
[out] nodejs           24.5.0          ASDF_NODEJS_VERSION           true
[out] scarb            dev-2025-10-21  ASDF_SCARB_VERSION            true
[out] starknet-foundry 0.51.0          ASDF_STARKNET-FOUNDRY_VERSION true

>>> maat-patch
[err] Installed 1 package in 2ms
[out] diff --git a/Scarb.toml b/Scarb.toml
[out] index 727f7a8..f4e4958 100644
[out] --- a/Scarb.toml
[out] +++ b/Scarb.toml
[out] @@ -20,3 +20,14 @@ panic-backtrace = true
[out]  
[out]  [workspace.tool.scarb]
[out]  allow-prebuilt-plugins = ["snforge_std"]
[out] +
[out] +[patch.scarbs-xyz]
[out] +assert_macros = "2.12.3+dev-2025-10-21" # NOTE: added by maat-patch, was: None
[out] +starknet = "2.12.3+dev-2025-10-21" # NOTE: added by maat-patch, was: None
[out] +cairo_test = "2.12.3+dev-2025-10-21" # NOTE: added by maat-patch, was: None
[out] +snforge_std = "0.51.0" # NOTE: added by maat-patch, was: None
[out] +snforge_scarb_plugin = "0.51.0" # NOTE: added by maat-patch, was: None
[out] +
[out] +[patch."https://github.com/foundry-rs/starknet-foundry.git"]
[out] +snforge_std = "0.51.0" # NOTE: added by maat-patch, was: None
[out] +snforge_scarb_plugin = "0.51.0" # NOTE: added by maat-patch, was: None
[out] diff --git a/workspace/apps/perpetuals/contracts/Scarb.toml b/workspace/apps/perpetuals/contracts/Scarb.toml
[out] index 4828653..4d56f72 100644
[out] --- a/workspace/apps/perpetuals/contracts/Scarb.toml
[out] +++ b/workspace/apps/perpetuals/contracts/Scarb.toml
[out] @@ -2,6 +2,7 @@
[out]  name = "perpetuals"
[out]  version = "0.2.0"
[out]  edition = "2024_07"
[out] +cairo-version = "2.12.3+dev-2025-10-21" # NOTE: added by maat-patch, was: None
[out]  
[out]  [dependencies]
[out]  starknet.workspace = true
[out] @@ -25,6 +26,7 @@ sort-module-level-items = true
[out]  
[out]  [tool]
[out]  scarb.workspace = true
[out] +scarb.allow-prebuilt-plugins = ["snforge_std"] # NOTE: maat-patch added 'snforge_std'
[out]  
[out]  [profile.dev.cairo]
[out]  unstable-add-statements-code-locations-debug-info = true
[out] diff --git a/workspace/vault/Scarb.toml b/workspace/vault/Scarb.toml
[out] index 19d175e..050020e 100644
[out] --- a/workspace/vault/Scarb.toml
[out] +++ b/workspace/vault/Scarb.toml
[out] @@ -2,6 +2,7 @@
[out]  name = "vault"
[out]  version = "0.2.0"
[out]  edition = "2024_07"
[out] +cairo-version = "2.12.3+dev-2025-10-21" # NOTE: added by maat-patch, was: None
[out]  
[out]  [dependencies]
[out]  starknet.workspace = true
[out] @@ -25,6 +26,7 @@ sort-module-level-items = true
[out]  
[out]  [tool]
[out]  scarb.workspace = true
[out] +scarb.allow-prebuilt-plugins = ["snforge_std"] # NOTE: maat-patch added 'snforge_std'
[out]  
[out]  [profile.dev.cairo]
[out]  unstable-add-statements-code-locations-debug-info = true

>>> scarb fetch
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `perpetuals` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `vault` package also defines `profile` in the manifest
[out] 
[out]     Updating git repository https://github.com/openzeppelin/cairo-contracts
[out]     Updating git repository https://github.com/starkware-libs/starkware-starknet-utils
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: patch `starknet` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out] warn: patch `assert_macros` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out] warn: patch `snforge_std` (`registry+https://scarbs.xyz/`) for source `https://github.com/foundry-rs/starknet-foundry` has not been used
[out] warn: patch `snforge_scarb_plugin` (`registry+https://scarbs.xyz/`) for source `https://github.com/foundry-rs/starknet-foundry` has not been used
[out] warn: patch `cairo_test` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out]  Downloading snforge_scarb_plugin v0.51.0
[out]  Downloading snforge_std v0.51.0

>>> scarb tree -q --workspace
[out] perpetuals v0.2.0 (/mnt/maat-workbench/workspace/apps/perpetuals/contracts/Scarb.toml)
[out] ├── openzeppelin v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38)
[out] │   ├── openzeppelin_access v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38)
[out] │   │   ├── openzeppelin_interfaces v2.1.0 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38)
[out] │   │   │   └── starknet v2.12.3 (std)
[out] │   │   ├── openzeppelin_introspection v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38)
[out] │   │   │   ├── openzeppelin_interfaces v2.1.0 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   │   └── starknet v2.12.3 (std) (*)
[out] │   │   └── starknet v2.12.3 (std) (*)
[out] │   ├── openzeppelin_account v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38)
[out] │   │   ├── openzeppelin_interfaces v2.1.0 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   ├── openzeppelin_introspection v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   ├── openzeppelin_utils v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38)
[out] │   │   │   ├── openzeppelin_interfaces v2.1.0 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   │   └── starknet v2.12.3 (std) (*)
[out] │   │   └── starknet v2.12.3 (std) (*)
[out] │   ├── openzeppelin_finance v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38)
[out] │   │   ├── openzeppelin_access v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   ├── openzeppelin_interfaces v2.1.0 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   ├── openzeppelin_token v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38)
[out] │   │   │   ├── openzeppelin_access v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   │   ├── openzeppelin_account v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   │   ├── openzeppelin_interfaces v2.1.0 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   │   ├── openzeppelin_introspection v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   │   ├── openzeppelin_utils v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   │   └── starknet v2.12.3 (std) (*)
[out] │   │   └── starknet v2.12.3 (std) (*)
[out] │   ├── openzeppelin_governance v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38)
[out] │   │   ├── openzeppelin_access v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   ├── openzeppelin_account v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   ├── openzeppelin_interfaces v2.1.0 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   ├── openzeppelin_introspection v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   ├── openzeppelin_token v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   ├── openzeppelin_utils v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   └── starknet v2.12.3 (std) (*)
[out] │   ├── openzeppelin_interfaces v2.1.0 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   ├── openzeppelin_introspection v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   ├── openzeppelin_merkle_tree v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38)
[out] │   ├── openzeppelin_presets v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38)
[out] │   │   ├── openzeppelin_access v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   ├── openzeppelin_account v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   ├── openzeppelin_finance v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   ├── openzeppelin_interfaces v2.1.0 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   ├── openzeppelin_introspection v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   ├── openzeppelin_token v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   ├── openzeppelin_upgrades v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38)
[out] │   │   │   └── starknet v2.12.3 (std) (*)
[out] │   │   ├── openzeppelin_utils v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   └── starknet v2.12.3 (std) (*)
[out] │   ├── openzeppelin_security v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38)
[out] │   │   ├── openzeppelin_interfaces v2.1.0 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   │   └── starknet v2.12.3 (std) (*)
[out] │   ├── openzeppelin_token v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   ├── openzeppelin_upgrades v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   ├── openzeppelin_utils v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   └── starknet v2.12.3 (std) (*)
[out] ├── starknet v2.12.3 (std) (*)
[out] ├── starkware_utils v1.0.0 (git+https://github.com/starkware-libs/starkware-starknet-utils?branch=oz-3.0.0-alpha.2#f1273496b5c121b2927ad63110368fa809771818)
[out] │   ├── openzeppelin v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   └── starknet v2.12.3 (std) (*)
[out] ├── vault v0.2.0 (/mnt/maat-workbench/workspace/vault/Scarb.toml)
[out] │   ├── openzeppelin v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out] │   ├── perpetuals v0.2.0 (/mnt/maat-workbench/workspace/apps/perpetuals/contracts/Scarb.toml) (*)
[out] │   ├── starknet v2.12.3 (std) (*)
[out] │   └── starkware_utils v1.0.0 (git+https://github.com/starkware-libs/starkware-starknet-utils?branch=oz-3.0.0-alpha.2#f1273496b5c121b2927ad63110368fa809771818) (*)
[out] └── [dev-dependencies]
[out]     ├── assert_macros v2.12.3 (std)
[out]     ├── snforge_std v0.51.0
[out]     │   └── snforge_scarb_plugin v0.51.0
[out]     ├── starkware_utils_testing v1.0.0 (git+https://github.com/starkware-libs/starkware-starknet-utils?branch=oz-3.0.0-alpha.2#f1273496b5c121b2927ad63110368fa809771818)
[out]     │   ├── assert_macros v2.12.3 (std) (*)
[out]     │   ├── openzeppelin v3.0.0-alpha.2 (git+https://github.com/OpenZeppelin/cairo-contracts/?rev=0e51722f231c0913915945d3df89e43cbb5cfc38#0e51722f231c0913915945d3df89e43cbb5cfc38) (*)
[out]     │   ├── snforge_std v0.51.0 (*)
[out]     │   ├── starknet v2.12.3 (std) (*)
[out]     │   ├── starkware_utils v1.0.0 (git+https://github.com/starkware-libs/starkware-starknet-utils?branch=oz-3.0.0-alpha.2#f1273496b5c121b2927ad63110368fa809771818) (*)
[out]     │   └── snforge_scarb_plugin v0.51.0 (*)
[out]     └── snforge_scarb_plugin v0.51.0 (*)
[out] 
[out] vault v0.2.0 (/mnt/maat-workbench/workspace/vault/Scarb.toml) (*)

>>> SCARB_IGNORE_CAIRO_VERSION=true scarb build --workspace --test
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `perpetuals` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `vault` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: patch `snforge_scarb_plugin` (`registry+https://scarbs.xyz/`) for source `https://github.com/foundry-rs/starknet-foundry` has not been used
[out] warn: patch `cairo_test` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out] warn: patch `snforge_std` (`registry+https://scarbs.xyz/`) for source `https://github.com/foundry-rs/starknet-foundry` has not been used
[out] warn: patch `assert_macros` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out] warn: patch `starknet` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out]    Compiling test(perpetuals_unittest) perpetuals v0.2.0 (/mnt/maat-workbench/workspace/apps/perpetuals/contracts/Scarb.toml)
[out]    Compiling test(vault_unittest) vault v0.2.0 (/mnt/maat-workbench/workspace/vault/Scarb.toml)
[out]     Finished `dev` profile target(s) in 38 seconds

>>> SCARB_IGNORE_CAIRO_VERSION=true scarb lint --workspace --deny-warnings
[out] error: scarb was not compiled with the `lint` command enabled
[out] 
[out] Stack backtrace:
[out]    0: anyhow::error::<impl anyhow::Error>::msg
[out]    1: scarb::commands::lint::do_lint
[out]    2: scarb::commands::lint::run
[out]    3: scarb::commands::run
[out]    4: scarb::main
[out]    5: std::sys::backtrace::__rust_begin_short_backtrace
[out]    6: std::rt::lang_start::{{closure}}
[out]    7: std::rt::lang_start_internal
[out]    8: main
[out]    9: __libc_start_call_main
[out]   10: __libc_start_main_alias_2
[out]   11: _start
Process finished with exit code 1

>>> SCARB_IGNORE_CAIRO_VERSION=true SNFORGE_FUZZER_SEED=1 SNFORGE_IGNORE_FORK_TESTS=1 scarb test --workspace
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `perpetuals` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `vault` package also defines `profile` in the manifest
[out] 
[out]      Running test perpetuals (SNFORGE_BACKTRACE=1 snforge test)
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `perpetuals` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `vault` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: patch `cairo_test` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out] warn: patch `snforge_scarb_plugin` (`registry+https://scarbs.xyz/`) for source `https://github.com/foundry-rs/starknet-foundry` has not been used
[out] warn: patch `starknet` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out] warn: patch `assert_macros` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out] warn: patch `snforge_std` (`registry+https://scarbs.xyz/`) for source `https://github.com/foundry-rs/starknet-foundry` has not been used
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `perpetuals` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `vault` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: patch `snforge_std` (`registry+https://scarbs.xyz/`) for source `https://github.com/foundry-rs/starknet-foundry` has not been used
[out] warn: patch `assert_macros` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out] warn: patch `snforge_scarb_plugin` (`registry+https://scarbs.xyz/`) for source `https://github.com/foundry-rs/starknet-foundry` has not been used
[out] warn: patch `cairo_test` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out] warn: patch `starknet` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out]    Compiling test(perpetuals_unittest) perpetuals v0.2.0 (/mnt/maat-workbench/workspace/apps/perpetuals/contracts/Scarb.toml)
[out]     Finished `dev` profile target(s) in 35 seconds
[out] [WARNING] RPC node with the url https://rpc.starknet.lava.build/ uses incompatible version 0.8.1. Expected version: 0.9.0
[out] 
[out] 
[out] Collected 150 test(s) from perpetuals package
[out] Running 150 test(s) from tests/
[out] [IGNORE] perpetuals::tests::flow_tests::multi_trade_regression_tests::test_mainnet_data_multi_trade_upgraded_code
[out] [IGNORE] perpetuals::tests::flow_tests::multi_trade_regression_tests::test_mainnet_data_three_trades_original_code
[out] [IGNORE] perpetuals::tests::flow_tests::multi_trade_regression_tests::test_mainnet_data_three_trades_upgraded_code
[out] [IGNORE] perpetuals::tests::performance_tests::performance_tests::test_performance
[out] [PASS] perpetuals::core::types::balance::tests::test_add_assign (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::core::types::balance::tests::test_add (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::core::types::balance::tests::test_add_u64 (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_long_deleverage_after_price_tick (l1_gas: ~0, l1_data_gas: ~24384, l2_gas: ~81140320)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_long_liquidate_after_funding_tick (l1_gas: ~0, l1_data_gas: ~26496, l2_gas: ~104876979)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_long_liquidate_after_price_tick (l1_gas: ~0, l1_data_gas: ~26208, l2_gas: ~95089254)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_multi_trade_empty (l1_gas: ~0, l1_data_gas: ~20736, l2_gas: ~42822147)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_multi_trade_basic (l1_gas: ~0, l1_data_gas: ~38208, l2_gas: ~182484657)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_multi_trade_with_one_trade (l1_gas: ~0, l1_data_gas: ~24384, l2_gas: ~66896695)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_multi_trade_single_order (l1_gas: ~0, l1_data_gas: ~39936, l2_gas: ~211604044)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_multi_trade_single_market_maker_many_users (l1_gas: ~0, l1_data_gas: ~44256, l2_gas: ~222196982)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_multi_trade_vs_trade (l1_gas: ~0, l1_data_gas: ~66048, l2_gas: ~383093924)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_short_deleverage_after_funding_tick (l1_gas: ~0, l1_data_gas: ~26304, l2_gas: ~137632736)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_multi_trade_with_price_and_funding_ticks (l1_gas: ~0, l1_data_gas: ~34272, l2_gas: ~226330262)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_short_deleverage_after_price_tick (l1_gas: ~0, l1_data_gas: ~24384, l2_gas: ~81144790)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_short_liquidate_after_funding_tick (l1_gas: ~0, l1_data_gas: ~26496, l2_gas: ~104888519)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_short_liquidate_after_price_tick (l1_gas: ~0, l1_data_gas: ~26208, l2_gas: ~95099594)
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_deleverage_after_price_tick (l1_gas: ~0, l1_data_gas: ~9024, l2_gas: ~39124780)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_two_users_two_synthetics (l1_gas: ~0, l1_data_gas: ~26112, l2_gas: ~127117515)
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_deleverage_after_funding_tick (l1_gas: ~0, l1_data_gas: ~11040, l2_gas: ~53543976)
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_deleverage_by_recieving_asset (l1_gas: ~0, l1_data_gas: ~9216, l2_gas: ~39589895)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_two_users_ten_synthetics_flow (l1_gas: ~0, l1_data_gas: ~34272, l2_gas: ~396931202)
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_flow_get_risk_factor (l1_gas: ~0, l1_data_gas: ~9600, l2_gas: ~53041607)
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_funding_index_rounding (l1_gas: ~0, l1_data_gas: ~9504, l2_gas: ~30503045)
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_liquidate_after_funding_tick (l1_gas: ~0, l1_data_gas: ~11520, l2_gas: ~57770064)
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_liquidate_after_price_tick (l1_gas: ~0, l1_data_gas: ~11040, l2_gas: ~56900019)
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_reduce_synthetic (l1_gas: ~0, l1_data_gas: ~9216, l2_gas: ~27904945)
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_status_change_by_deposit (l1_gas: ~0, l1_data_gas: ~10080, l2_gas: ~47968923)
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_status_change_by_trade (l1_gas: ~0, l1_data_gas: ~10176, l2_gas: ~70933665)
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_status_change_by_transfer (l1_gas: ~0, l1_data_gas: ~9888, l2_gas: ~48376173)
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_status_change_healthy_liquidatable_deleveragable (l1_gas: ~0, l1_data_gas: ~9888, l2_gas: ~54367376)
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_transfer (l1_gas: ~0, l1_data_gas: ~7968, l2_gas: ~62470642)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_add_existed_oracle (l1_gas: ~0, l1_data_gas: ~5536, l2_gas: ~5832437)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_add_oracle_asset_name_too_long (l1_gas: ~0, l1_data_gas: ~4960, l2_gas: ~4066817)
[out] 
[out] 
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_transfer_withdraw_with_negative_collateral (l1_gas: ~0, l1_data_gas: ~9408, l2_gas: ~34277885)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_add_oracle_name_too_long (l1_gas: ~0, l1_data_gas: ~4960, l2_gas: ~4062887)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_add_synthetic_asset_existed_asset (l1_gas: ~0, l1_data_gas: ~5536, l2_gas: ~5771292)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_cancel_already_done_deposit (l1_gas: ~0, l1_data_gas: ~6496, l2_gas: ~8029077)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_caller_failures (l1_gas: ~0, l1_data_gas: ~3552, l2_gas: ~21971635)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_cancel_deposit_before_cancellation_delay_passed (l1_gas: ~0, l1_data_gas: ~6496, l2_gas: ~7474947)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_cancel_deposit_different_hash (l1_gas: ~0, l1_data_gas: ~6496, l2_gas: ~7460267)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_cancel_non_registered_deposit (l1_gas: ~0, l1_data_gas: ~6208, l2_gas: ~6067297)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_constructor (l1_gas: ~0, l1_data_gas: ~3232, l2_gas: ~2007092)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_deactivate_nonexistent_synthetic_asset (l1_gas: ~0, l1_data_gas: ~5536, l2_gas: ~5473202)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_deposit_already_registered (l1_gas: ~0, l1_data_gas: ~6496, l2_gas: ~7387417)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_double_cancel_deposit (l1_gas: ~0, l1_data_gas: ~6496, l2_gas: ~8097107)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_expiration_validation (l1_gas: ~0, l1_data_gas: ~4608, l2_gas: ~9454777)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_failed_deposit_into_vault_scenarios (l1_gas: ~0, l1_data_gas: ~5472, l2_gas: ~14511407)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_funding_tick_basic (l1_gas: ~0, l1_data_gas: ~5632, l2_gas: ~6087672)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_price_tick_basic (l1_gas: ~0, l1_data_gas: ~5536, l2_gas: ~5594352)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_invalid_funding_len (l1_gas: ~0, l1_data_gas: ~5536, l2_gas: ~5563962)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_price_tick_even (l1_gas: ~0, l1_data_gas: ~5632, l2_gas: ~5906122)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_invalid_funding_rate (l1_gas: ~0, l1_data_gas: ~5536, l2_gas: ~6965422)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_invalid_set_public_key_request_wrong_owner (l1_gas: ~0, l1_data_gas: ~7264, l2_gas: ~6815505)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_invalid_trade_same_base_signs (l1_gas: ~0, l1_data_gas: ~6880, l2_gas: ~10171720)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_invalid_transfer_request_amount_is_zero (l1_gas: ~0, l1_data_gas: ~6880, l2_gas: ~6563272)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_new_position (l1_gas: ~0, l1_data_gas: ~5920, l2_gas: ~5783357)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_price_tick_golden (l1_gas: ~0, l1_data_gas: ~5728, l2_gas: ~6103727)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_price_tick_no_quorum (l1_gas: ~0, l1_data_gas: ~5536, l2_gas: ~6104312)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_price_tick_odd (l1_gas: ~0, l1_data_gas: ~5728, l2_gas: ~6349812)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_set_public_key_no_request (l1_gas: ~0, l1_data_gas: ~6400, l2_gas: ~6530662)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_price_tick_old_oracle (l1_gas: ~0, l1_data_gas: ~5152, l2_gas: ~5188587)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_price_tick_unsorted (l1_gas: ~0, l1_data_gas: ~5248, l2_gas: ~5696452)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_register_vault_successful (l1_gas: ~0, l1_data_gas: ~6976, l2_gas: ~6784920)
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_late_funding (l1_gas: ~0, l1_data_gas: ~5856, l2_gas: ~7502377)
[out] 
[out] error occurred in contract 'Core'
[out] stack backtrace:
[out]    0: core::panic_with_const_felt252
[out]        at /mnt/maat-cache/scarb/registry/std/8559ea82e/core/src/lib.cairo:364:5
[out]    1: core::panic_with_const_felt252
[out]        at /mnt/maat-cache/scarb/registry/std/8559ea82e/core/src/lib.cairo:364:5
[out]    2: (inlined) core::integer::U64PartialOrd::lt
[out]        at /mnt/maat-cache/scarb/registry/std/8559ea82e/core/src/integer.cairo:814:9
[out]    3: (inlined) starkware_utils::time::time::TimeDeltaPartialOrd::lt
[out]        at /mnt/maat-cache/scarb/registry/git/checkouts/starkware-starknet-utils-co5ag083kk1bq/f127349/packages/utils/src/time/time.cairo:46:9
[out]    4: perpetuals::core::components::assets::assets::AssetsComponent::PrivateImpl::_validate_asset_prices
[out]        at /mnt/maat-cache/scarb/registry/std/8559ea82e/core/src/traits.cairo:663:10
[out]    5: (inlined) perpetuals::core::components::assets::assets::AssetsComponent::PrivateImpl::_validate_asset_prices
[out]        at /mnt/maat-workbench/workspace/apps/perpetuals/contracts/src/core/components/assets/assets.cairo:805:13
[out]    6: perpetuals::core::components::assets::assets::AssetsComponent::InternalImpl::validate_price_interval_integrity
[out]        at /mnt/maat-workbench/workspace/apps/perpetuals/contracts/src/core/components/assets/assets.cairo:620:17
[out]    7: perpetuals::core::components::assets::assets::AssetsComponent::Assets::funding_tick
[out]        at /mnt/maat-workbench/workspace/apps/perpetuals/contracts/src/core/components/assets/assets.cairo:301:13
[out]    8: (inlined) perpetuals::core::components::assets::assets::AssetsComponent::AssetsImpl::funding_tick
[out]        at /mnt/maat-workbench/workspace/apps/perpetuals/contracts/src/core/components/assets/assets.cairo:288:9
[out]    9: perpetuals::core::components::assets::assets::AssetsComponent::__wrapper__AssetsImpl__funding_tick
[out]        at /mnt/maat-workbench/workspace/apps/perpetuals/contracts/src/core/components/assets/assets.cairo:288:9
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_register_vault_negative_scenarios (l1_gas: ~0, l1_data_gas: ~7104, l2_gas: ~10891438)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_set_existed_owner_account (l1_gas: ~0, l1_data_gas: ~6400, l2_gas: ~6146060)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_set_owner_account_request_invalid_caller (l1_gas: ~0, l1_data_gas: ~6208, l2_gas: ~6150530)
[out] 
[out] 
[out] [PASS] perpetuals::tests::flow_tests::unit_flow_tests::test_liquidate_change_sign (l1_gas: ~0, l1_data_gas: ~9312, l2_gas: ~28893839)
[out] 
[out] error occurred in contract 'Core'
[out] stack backtrace:
[out]    0: core::panic_with_const_felt252
[out]        at /mnt/maat-cache/scarb/registry/std/8559ea82e/core/src/lib.cairo:364:5
[out]    1: core::panic_with_const_felt252
[out]        at /mnt/maat-cache/scarb/registry/std/8559ea82e/core/src/lib.cairo:364:5
[out]    2: perpetuals::core::core::Core::InternalCoreFunctions::_validate_asset_shrinks
[out]        at /mnt/maat-workbench/workspace/apps/perpetuals/contracts/src/core/core.cairo:1182:11
[out]    3: perpetuals::core::core::Core::InternalCoreFunctions::_validate_liquidated_position
[out]        at /mnt/maat-workbench/workspace/apps/perpetuals/contracts/src/core/core.cairo:1236:13
[out]    4: perpetuals::core::core::Core::CoreImpl::liquidate
[out]        at /mnt/maat-workbench/workspace/apps/perpetuals/contracts/src/core/core.cairo:666:13
[out]    5: perpetuals::core::core::Core::__wrapper__CoreImpl__liquidate
[out]        at /mnt/maat-workbench/workspace/apps/perpetuals/contracts/src/core/core.cairo:571:9
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_set_owner_account_request_position_has_owner (l1_gas: ~0, l1_data_gas: ~6400, l2_gas: ~6211820)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_set_public_key_request_position_not_exist (l1_gas: ~0, l1_data_gas: ~5920, l2_gas: ~5707585)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_deposit (l1_gas: ~0, l1_data_gas: ~6496, l2_gas: ~7935777)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_add_and_remove_oracle (l1_gas: ~0, l1_data_gas: ~5056, l2_gas: ~5166792)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_add_synthetic_asset (l1_gas: ~0, l1_data_gas: ~7648, l2_gas: ~7458342)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_cancel_deposit (l1_gas: ~0, l1_data_gas: ~6496, l2_gas: ~8513217)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_deactivate_synthetic_asset (l1_gas: ~0, l1_data_gas: ~5440, l2_gas: ~5906892)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_signature_validation (l1_gas: ~0, l1_data_gas: ~9888, l2_gas: ~31017475)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_deleverage (l1_gas: ~0, l1_data_gas: ~7840, l2_gas: ~10449322)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_liquidate (l1_gas: ~0, l1_data_gas: ~8128, l2_gas: ~10565761)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_process_deposit (l1_gas: ~0, l1_data_gas: ~6496, l2_gas: ~7765077)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_set_public_key (l1_gas: ~0, l1_data_gas: ~6496, l2_gas: ~7089875)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_remove_nonexistent_oracle (l1_gas: ~0, l1_data_gas: ~4960, l2_gas: ~3966767)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_set_owner_account (l1_gas: ~0, l1_data_gas: ~6496, l2_gas: ~6642579)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_set_owner_account_request_using_public_key (l1_gas: ~0, l1_data_gas: ~6304, l2_gas: ~6214010)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_set_public_key_request (l1_gas: ~0, l1_data_gas: ~6496, l2_gas: ~6587016)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_trade (l1_gas: ~0, l1_data_gas: ~8128, l2_gas: ~10107640)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_transfer (l1_gas: ~0, l1_data_gas: ~6880, l2_gas: ~7826227)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_transfer_request_using_public_key (l1_gas: ~0, l1_data_gas: ~6976, l2_gas: ~6865137)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_transfer_request_with_owner (l1_gas: ~0, l1_data_gas: ~7360, l2_gas: ~6997617)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_withdraw_request_with_public_key (l1_gas: ~0, l1_data_gas: ~6688, l2_gas: ~6514797)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_withdraw (l1_gas: ~0, l1_data_gas: ~6400, l2_gas: ~7783032)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_successful_withdraw_request_with_owner (l1_gas: ~0, l1_data_gas: ~6880, l2_gas: ~6593727)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_unfair_deleverage (l1_gas: ~0, l1_data_gas: ~7840, l2_gas: ~10034202)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_validate_synthetic_prices_expired (l1_gas: ~0, l1_data_gas: ~6208, l2_gas: ~8295622)
[out] 
[out] 
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_validate_prices (l1_gas: ~0, l1_data_gas: ~6496, l2_gas: ~9464062)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_validate_prices_no_update_needed (l1_gas: ~0, l1_data_gas: ~6496, l2_gas: ~7689037)
[out] [PASS] perpetuals::tests::unit_tests::unit_tests::test_validate_synthetic_prices_pending_asset (l1_gas: ~0, l1_data_gas: ~6016, l2_gas: ~6827227)
[out] [PASS] perpetuals::core::types::price::tests::test_price_mul_u32 (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~19750)
[out] [PASS] perpetuals::core::types::price::tests::test_price_mul_balance (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~20790)
[out] [PASS] perpetuals::core::types::withdraw_from_vault::tests::test_vault_withdraw_user_args_type_hash (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~1878610)
[out] [PASS] perpetuals::core::types::price::tests::test_price_zero (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::core::types::risk_factor::tests::test_is_zero (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~14140)
[out] [PASS] perpetuals::core::types::risk_factor::tests::test_is_non_zero (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~15240)
[out] [PASS] perpetuals::core::types::register_vault::tests::test_register_vault_type_hash (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~1876610)
[out] [PASS] perpetuals::core::types::risk_factor::tests::test_mul (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~29970)
[out] [PASS] perpetuals::core::types::risk_factor::tests::test_new (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::core::types::risk_factor::tests::test_zero (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::core::types::risk_factor::tests::test_new_invalid_max (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~14440)
[out] 
[out] 
[out] [PASS] perpetuals::core::types::set_owner_account::tests::test_set_owner_account_type_hash (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~1880410)
[out] [PASS] perpetuals::core::types::set_public_key::tests::test_update_position_public_key_type_hash (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~1938190)
[out] [PASS] perpetuals::core::types::transfer::tests::test_transfer_type_hash (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~1873910)
[out] [PASS] perpetuals::core::types::withdraw::tests::test_withdraw_type_hash (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~1874910)
[out] [PASS] perpetuals::core::types::withdraw_from_vault::tests::test_vault_withdraw_owner_args_type_hash (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~1873610)
[out] [PASS] perpetuals::core::types::funding::tests::test_is_non_zero (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~15240)
[out] [PASS] perpetuals::core::types::balance::tests::test_sub (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::core::types::balance::tests::test_sub_assign (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::core::types::balance::tests::test_zero (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::core::types::funding::tests::test_funding_mul (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~20540)
[out] [PASS] perpetuals::core::types::balance::tests::test_i64_into_balance (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::core::types::deposit_into_vault::tests::test_vault_deposit_args_type_hash (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~1876110)
[out] [PASS] perpetuals::core::types::balance::tests::test_is_non_zero (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::core::types::funding::tests::test_zero (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::core::types::funding::tests::test_is_zero (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~14140)
[out] [PASS] perpetuals::core::types::price::tests::test_new_price_over_limit (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~14440)
[out] 
[out] 
[out] [PASS] perpetuals::core::types::order::tests::test_order_type_hash (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~1873910)
[out] [PASS] perpetuals::core::types::price::tests::test_new_price (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::core::value_risk_calculator::tests::test_calculate_position_tvtr_change_multiple_assets (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~178030)
[out] [PASS] perpetuals::core::value_risk_calculator::tests::test_basic_calculate_position_tvtr_before (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~44900)
[out] [PASS] perpetuals::core::value_risk_calculator::tests::test_calculate_position_tvtr_before_negative_balance (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~45320)
[out] [PASS] perpetuals::core::value_risk_calculator::tests::test_calculate_position_tvtr_before_negative_balance_in_diff (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~49140)
[out] [PASS] perpetuals::core::value_risk_calculator::tests::test_calculate_position_tvtr_before_no_assets (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~24850)
[out] [PASS] perpetuals::core::value_risk_calculator::tests::test_calculate_position_tvtr_before_no_unchanged_assets (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~48720)
[out] [PASS] perpetuals::core::value_risk_calculator::tests::test_calculate_position_tvtr_before_with_multiple_assets (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~88020)
[out] [PASS] perpetuals::core::value_risk_calculator::tests::test_calculate_position_tvtr_change_basic_case (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~99430)
[out] [PASS] perpetuals::core::types::price::tests::test_price_is_non_zero (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::core::value_risk_calculator::tests::test_evaluate_position_empty_position_and_empty_diff (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~29030)
[out] [PASS] perpetuals::core::value_risk_calculator::tests::test_calculate_position_tvtr_change_negative_balance (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~99850)
[out] [PASS] perpetuals::core::value_risk_calculator::tests::test_calculate_position_tvtr_empty_diff (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~54320)
[out] [PASS] perpetuals::core::value_risk_calculator::tests::test_calculate_position_tvtr_empty_position_and_diff (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~33870)
[out] [PASS] perpetuals::tests::components::test_nonce::test_use_checked_nonce (l1_gas: ~0, l1_data_gas: ~1408, l2_gas: ~1722060)
[out] [PASS] perpetuals::tests::components::test_nonce::test_nonce_getter (l1_gas: ~0, l1_data_gas: ~1312, l2_gas: ~1579440)
[out] [PASS] perpetuals::tests::components::test_nonce::test_use_checked_nonce_invalid_current (l1_gas: ~0, l1_data_gas: ~1408, l2_gas: ~1779110)
[out] 
[out] 
[out] [PASS] perpetuals::core::types::balance::tests::test_is_zero (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::core::types::price::tests::test_price_is_zero (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::core::types::balance::tests::test_balance_into_i64 (l1_gas: ~0, l1_data_gas: ~0, l2_gas: ~13740)
[out] [PASS] perpetuals::tests::flow_tests::flow_tests::test_long_deleverage_after_funding_tick (l1_gas: ~0, l1_data_gas: ~26304, l2_gas: ~137621666)
[out] Tests: 146 passed, 0 failed, 4 ignored, 0 filtered out
[out] 
[out]      Running test vault (SNFORGE_BACKTRACE=1 snforge test)
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `perpetuals` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `vault` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: patch `assert_macros` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out] warn: patch `snforge_std` (`registry+https://scarbs.xyz/`) for source `https://github.com/foundry-rs/starknet-foundry` has not been used
[out] warn: patch `snforge_scarb_plugin` (`registry+https://scarbs.xyz/`) for source `https://github.com/foundry-rs/starknet-foundry` has not been used
[out] warn: patch `starknet` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out] warn: patch `cairo_test` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `perpetuals` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `vault` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils_testing` package also defines `profile` in the manifest
[out] 
[out] warn: in context of a workspace, only the `profile` set in the workspace manifest is applied,
[out] but the `starkware_utils` package also defines `profile` in the manifest
[out] 
[out] warn: patch `snforge_scarb_plugin` (`registry+https://scarbs.xyz/`) for source `https://github.com/foundry-rs/starknet-foundry` has not been used
[out] warn: patch `snforge_std` (`registry+https://scarbs.xyz/`) for source `https://github.com/foundry-rs/starknet-foundry` has not been used
[out] warn: patch `starknet` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out] warn: patch `assert_macros` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out] warn: patch `cairo_test` (`registry+https://scarbs.xyz/`) for source `https://scarbs.xyz/` has not been used
[out]    Compiling test(vault_unittest) vault v0.2.0 (/mnt/maat-workbench/workspace/vault/Scarb.toml)
[out]     Finished `dev` profile target(s) in 7 seconds
[out] 
[out] 
[out] Collected 0 test(s) from vault package
[out] Running 0 test(s) from tests/
[out] Tests: 0 passed, 0 failed, 0 ignored, 0 filtered out
[out] 

>>> SCARB_IGNORE_CAIRO_VERSION=true maat-test-ls
[out] 
[out] ==============================
[out] CairoLS process exited with code: 1
Process finished with exit code 1
